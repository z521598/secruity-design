<?xml version="1.0" encoding="UTF-8"?>

<beans:beans xmlns="http://www.springframework.org/schema/security"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.springframework.org/schema/beans
                        http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
                        http://www.springframework.org/schema/security
                        http://www.springframework.org/schema/security/spring-security.xsd">
    <!--   use-expressions=”true” 需要使用表达式方式来写权限-->
    <!--<http pattern="/login.html" security="none"/>-->
    <http auto-config="true" access-denied-page="/403.action">
        <!--这是spring 提供的http/https信道安全的这个是重要的！你的请求信道是安全的！-->
        <form-login login-page="../webapp/html/login.html" authentication-failure-url="/views/login.html"
                    default-target-url="/views/home.html"/>
        <!--authentication-failure-url="/403.html" default-target-url="/home.html"-->
        <!--
        释放用户登陆page 允许任何人访问该页面 ，IS_AUTHENTICATED_ANONYMOUSLY表示不拦截
        另一种不拦截资源的配置：
        -->

        <intercept-url pattern="/*.action" access="ROLE_admin"/>
        <intercept-url pattern="/oneUser/*.action" access="ROLE_user,ROLE_admin"/>

        <!-- 配置用户正常访问page-->

        <!-- 自定义用户登陆page default-target-url登陆成功跳转的page ，authentication-failure-url="/login.jsp?error=true"这里是登陆失败跳转的page-->
        <!-- 记住密码 -->
        <!--         <remember-me key="elim" user-service-ref="securityManager"/> -->
    </http>

    <!--用户配置-->
    <authentication-manager>
        <authentication-provider>
            <user-service>
                <user name="admin" password="admin" authorities="ROLE_admin"/>
                <user name="make" password="make" authorities="ROLE_user"/>
            </user-service>
        </authentication-provider>
    </authentication-manager>
</beans:beans>